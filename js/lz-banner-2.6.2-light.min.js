(function(h){h.extend({isArray:function(j){return Object.prototype.toString.call(j)==="[object Array]";},isObject:function(j){return Object.prototype.toString.call(j)==="[object Object]";
},effectParam:function(p){var m=h(p),j=m.data("lzbanner-status"),l=j.imgW,o=j.imgH,k=[],n=m.data("lzbanner-param");if(n.dir=="left"||n.dir=="right"){k.push({left:l});
k.push({left:-l});k.push({left:0});}else{if(n.dir=="up"||n.dir=="down"){k.push({top:o});k.push({top:-o});k.push({top:0});}}return k;}});var a=function(j){this.$ele=h(j);
this.param=this.$ele.data("lzbanner-param");this.status=this.$ele.data("lzbanner-status");this.imgBox=this.$ele.data("lzbanner-imgBox");this.img=this.$ele.data("lzbanner-img");
};a.prototype.setEvent=function(){var j=this,k=this.param;if(h.isArray(k.event)){h.each(k.event,function(l,m){j[m]&&j[m]();});}else{j[k.event]&&j[k.event]();
}};a.prototype.wheel=function(){var k=this.$ele,j=this.status;k.off("mousewheel.lzbanner DOMMouseScroll.lzbanner").on("mousewheel.lzbanner DOMMouseScroll.lzbanner",function(l){if(j.flag&&j.mouseH){l.preventDefault();
var m=(l.originalEvent.wheelDelta&&(l.originalEvent.wheelDelta>0?1:-1))||(l.originalEvent.detail&&(l.originalEvent.detail>0?-1:1));if(m>0){j.cPoint--;}if(m<0){j.cPoint++;
}k.bannerExcute();}});};a.prototype.keyboard=function(){var k=this.$ele,j=this.status;h(window).on("keydown",function(l){if(j.flag&&j.mouseH){l.preventDefault();
if(l.keyCode==37||l.keyCode==38){j.cPoint--;}if(l.keyCode==39||l.keyCode==40){j.cPoint++;}k.bannerExcute();}});};a.prototype.btn=function(){var n=this.$ele,p=this.param,k=this.status,m=this.imgBox,l=this.img,o=k.imgLen,j=0;
var q=h("<ul class='"+p.btnCls[0]+"'></ul>");n.append(q.get(0));pointInBox=h("<li class='"+p.btnCls[1]+"'></li>");q.append(pointInBox.get(0));point="<div class='"+p.btnCls[2]+"'></div>";
for(i=0;i<o;pointInBox.append(point),i++){}j=q.find("div").eq(0).outerWidth(true)*o;pointInBox.css("width",j).find("div").eq(0).addClass(p.btnCls[3]);q.find("div").off(".lzbanner").on("click.lzbanner",function(r){if(k.flag){if(k.cPoint!=h(this).index()){k.cPoint=h(this).index();
n.bannerExcute();}}});};a.prototype.arrow=function(){var l=this.$ele,n=this.param,k=this.status,m=k.imgLen;var j=h("<ul class='"+n.arrowCls[0]+"'></ul>");
l.append(j.get(0));if(n.arrowStyle){arrowP="<li class='"+n.arrowCls[1]+"'>&lt;</li><li class='"+n.arrowCls[2]+"'>&gt;</li>";}else{arrowP="<li class='"+n.arrowCls[1]+"'></li><li class='"+n.arrowCls[2]+"'></li>";
}j.append(arrowP);j.find("li").eq(0).off(".lzbanner").on("click.lzbanner",function(o){if(k.flag){k.cPoint--;l.bannerExcute();}});j.find("li").eq(1).off(".lzbanner").on("click.lzbanner",function(o){if(k.flag){k.cPoint++;
l.bannerExcute();}});};a.prototype.touch=function(){var m={},k={},l=this.$ele,o=this.param,j=this.status,n=j.imgLen;l.on("touchstart",function(q){q.preventDefault();
q.stopPropagation();var p=q.originalEvent.touches[0];m.x=Math.floor(p.clientX);m.y=Math.floor(p.clientY);timer=setTimeout(function(){m={};k={};},1000);
});l.on("touchmove",function(q){q.preventDefault();q.stopPropagation();var p=q.originalEvent.touches[0];k.x=Math.floor(p.clientX);k.y=Math.floor(p.clientY);
});l.on("touchend",function(q){q.preventDefault();q.stopPropagation();var p=o.dir;if((p==="left"||p==="right")&&j.flag&&m.x){(m.x-k.x<-30)&&(j.cPoint-=1);
(m.x-k.x>30)&&(j.cPoint+=1);l.bannerExcute();}else{if((p==="up"||p==="down")&&j.flag&&m.y){m.y-k.y<-30&&(j.cPoint-=1);m.y-k.y>30&&(j.cPoint+=1);l.bannerExcute();
}}m={};k={};});};var g=function(j){this.$ele=h(j);this.param=this.$ele.data("lzbanner-param");this.status=this.$ele.data("lzbanner-status");this.img=this.$ele.data("lzbanner-img");
};g.prototype.setEffect=function(){var k=this,l=this.param,j=this.status;if(h.isArray(l.effect)){k[l.effect[j.sPoint]]?k[l.effect[j.sPoint]]():k.defaults();
}else{k[l.effect]?k[l.effect]():k.defaults();}};g.prototype.defaults=function(){var l=h.effectParam(this.$ele),m=this.param,j=this.status,k=this.img;k.css(l[2]).eq(j.cPoint).css("zIndex",30);
if(j.nPoint>j.sPoint){k.eq(j.cPoint).css(l[0]).animate(l[2],m.speed);k.eq(j.sPoint).animate(l[1],m.speed);}else{if(j.nPoint<j.sPoint){k.eq(j.cPoint).css(l[1]).animate(l[2],m.speed);
k.eq(j.sPoint).animate(l[0],m.speed);}}};g.prototype.fade=function(){var k=this.img,l=this.param,j=this.status;k.eq(j.cPoint).css({top:0,left:0,zIndex:35,display:"none"}).fadeIn(l.speed);
};g.prototype.cut=function(){var k=this.img,j=this.status;k.eq(j.cPoint).css({top:0,left:0,zIndex:35});};var f=function(j){this.$ele=h(j);this.status=this.$ele.data("lzbanner-status");
this.img=this.$ele.data("lzbanner-img");this.param=this.$ele.data("lzbanner-param");};f.prototype.autoPlay=function(){var k=this.$ele,j=this.status,l=this.param;
if(j.flag){(l.dir=="left"||l.dir=="up")?j.cPoint++:j.cPoint--;k.bannerExcute();}};f.prototype.indexChange=function(){var j=this.status,k=j.imgLen,l=this.param;
if(!l.cycle&&j.cPoint>k-1){j.cPoint=k-1;return false;}else{if(!l.cycle&&j.cPoint<0){j.cPoint=0;return false;}else{if(l.cycle&&j.cPoint>k-1){j.cPoint=0;
return true;}else{if(l.cycle&&j.cPoint<0){j.cPoint=k-1;return true;}else{return true;}}}}};f.prototype.excuteEffect=function(){var l=this,j=this.status,n=this.param,k=this.img,m=this.$ele.get(0).bannereffect;
var o=this.$ele.find("."+n.btnCls[0]).find("div");if(o){o.removeClass(n.btnCls[3]).eq(j.cPoint).addClass(n.btnCls[3]);}k.css({zIndex:0,display:"none"});
k.eq(j.sPoint).css({zIndex:30,display:"block"});k.eq(j.cPoint).css("display","block");m.setEffect();j.sPoint=j.cPoint;};f.prototype.onProgress=function(){var k=this,j=this.status,l=this.param;
j.nPoint=j.cPoint;endPoint=k.indexChange();if(endPoint){k.excuteEffect();if(j.sPoint==j.imgLen-1&&l._onLast){l._onLast.call(this,l,j);}l._onSwitch&&l._onSwitch.call(this,l,j);
j.flag=false;setTimeout(function(){j.flag=true;},l.speed);}};var e=function(k,j){this.$ele=h(k);this.$ele.data("lzbanner-param",this.initParam(j));this.$ele.data("lzbanner-imgBox",this.$ele.children().first());
this.$ele.data("lzbanner-img",this.$ele.data("lzbanner-imgBox").children());this.$ele.data("lzbanner-status",{flag:true,mouseH:false,cPoint:0,sPoint:0,nPoint:0,imgW:this.$ele.width(),imgH:this.$ele.height(),imgLen:this.$ele.data("lzbanner-img").length,timer:null});
};e.prototype.initEvent=function(){var m=this.$ele,k=m.get(0),j=m.data("lzbanner-status"),n=m.data("lzbanner-param"),l=new a(m);h(window).resize(function(o){j.imgW=m.width();
j.imgH=m.height();});m.off(".lzbanner").on("mouseenter.lzbanner",function(o){clearInterval(j.timer);j.timer=null;j.mouseH=true;}).on("mouseleave.lzbanner",function(o){n.auto&&(j.timer=setInterval(k.bannerexcute.autoPlay.bind(k.bannerexcute),n.interval));
j.mouseH=false;});l.setEvent();n.auto&&(j.timer=setInterval(k.bannerexcute.autoPlay.bind(k.bannerexcute),n.interval));};e.prototype.layout=function(){var l=this.$ele,j=l.data("lzbanner-status"),k=l.data("lzbanner-imgBox");
img=l.data("lzbanner-img");l.hide().css("position","relative");k.css("position","absolute").addClass("lz-bannerImg").children().css("position","absolute").addClass("lz-bannerImg-images");
img.css({display:"none",zIndex:0}).eq(0).css({display:"block",zIndex:30});k.nextAll().css("zIndex",50);l.show();};e.prototype.initParam=function(j){var k={dir:"left",effect:"defaults",speed:600,interval:3000,event:["btn","arrow"],auto:true,cycle:true,btnCls:["lz-bannerPoint-box","lz-bannerPoint","lz-bannerPoint-point","lz-bannerPoint-hover"],arrowCls:["lz-bannerBtn","lz-bannerBtn-left","lz-bannerBtn-right"],arrowStyle:true,_onSwitch:null,_onLast:null};
k=h.extend({},k,j);if(this.$ele.data("banner-param")){h.extend({},k,this.$ele.data("banner-param"));}return k;};h.fn.bannerExcute=function(){var j=h(this).get(0);
j.bannerexcute.onProgress();};h.fn.lzbanner=function(j){var k=h(this);h.each(k,function(m,n){var l=new e(n,j,b,c,d);n.bannerexcute=new f(n);n.bannereffect=new g(n);
l.initEvent();l.layout();});return k;};})(jQuery);